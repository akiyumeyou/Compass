#!/usr/bin/env sh

echo "ğŸ“ Gitã¸ã®pushå‰ã«ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜æ›¸ã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™..."

# ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜æ›¸ã‚’ç”Ÿæˆ
npm run generate-spec

# ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’gitã«è¿½åŠ 
git add docs/system-specs/

# å¤‰æ›´ãŒã‚ã‚‹å ´åˆã¯ã‚³ãƒŸãƒƒãƒˆ
if ! git diff --cached --quiet docs/system-specs/; then
  echo "ğŸ“š ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜æ›¸ã‚’æ›´æ–°ã—ã¦ã„ã¾ã™..."
  git commit -m "docs: ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜æ›¸ã‚’è‡ªå‹•æ›´æ–° [skip ci]"
fi

echo "âœ… ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜æ›¸ã®ç”ŸæˆãŒå®Œäº†ã—ã¾ã—ãŸ"